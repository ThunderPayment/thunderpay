// Copyright (c) 2019-2021 The Bitcoin Core developers
// Distributed under the MIT software license, see the accompanying
// file COPYING or http://www.opensource.org/licenses/mit-license.php.

#ifndef CORE_NODE_CONTEXT_H
#define CORE_NODE_CONTEXT_H

#include "scheduler.h"

namespace node
{
    //! NodeContext struct containing references to chain state and connection
    //! state.
    //!
    //! This is used by init, rpc, and test code to pass object references around
    //! without needing to declare the same variables and parameters repeatedly, or
    //! to use globals. More variables could be added to this struct (particularly
    //! references to validation objects) to eliminate use of globals
    //! and make code more modular and testable. The struct isn't intended to have
    //! any member functions. It should just be a collection of references that can
    //! be used without pulling in unwanted dependencies or functionality.
    struct NodeContext
    {
        std::unique_ptr<CScheduler> scheduler;

        //! Declare default constructor and destructor that are not inline, so code
        //! instantiating the NodeContext struct doesn't need to #include class
        //! definitions for all the unique_ptr members.
        NodeContext();
        ~NodeContext();
    };
} // namespace node

#endif // BITCOIN_NODE_CONTEXT_H